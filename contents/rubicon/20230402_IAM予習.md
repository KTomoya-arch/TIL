## iam ユーザー

### 手作業でする際の観点

- どんなリソースを作るのか？
- 各リソースは何をするためのものなのか？
- 各設定項目がどういう意味なのか？（どの選択肢を選ぶのか？）

今回だと

- IAM グループと IAM ユーザーを作成している
- IAM グループは一括で権限を付与し、その中に IAM ユーザーを入れることが可能である<br>
  A というユーザーに ① という権限を付与したとする。その後、B と C にも同じ権限を付与したいと思った場合
  グループ管理していない場合はそれぞれに付与しなければならないし、権限がさらに増える可能性もある。
  そういった際にグループに付与しておけばそのグループにさえユーザーを入れれば簡単に権限を与えることが可能となる。
  しかしグループの管理が若干面倒だったりする。
  各ユーザーによって全然異なる権限を付与しなければならないような場合においてはグループ管理は効率的にならず、一人一人のユーザーに
  権限を付与するだけで良さそう。しかし組織的に大人数に一律の権限を付与するような場合、さらにその付与対象がグループとして複数あるような場合には
  ユーザーグループを使用することのメリットが出てきそうである。

### 宿題

1. 日常的に使うべきなのは、ルートユーザー・IAM ユーザーのどちらですか？
   日常的に使うべきなのは IAM ユーザーである。
   その理由はルートユーザーはアカウント全体のなかで最強の権限を持っているため、誤った設定や操作によって
   意図しないリソースへのアクセス・削除が行われる可能性がある。またルートユーザーのアクセスキーが流出した場合、
   アカウント全体に対して攻撃ができるようになってしまうため非常にリスクが高いからである。
   IAM ユーザーは権限を限定的にすることができるため、必要な権限を与えるだけなどということもでき、権限付与を間違えなければ
   安心して使用することが可能である。またグループによる一括管理も可能である。
   ルートユーザーはアカウント情報を修正したりするような時ぐらいである。

2. IAM ユーザーのアクセスキーとシークレットが漏洩した場合に起きること（危険性）

- アカウントが不正に利用されることがある<br>
  AWS CLI でアクセスできてしまったようにアクセスキーとシークレットが漏れると
  知った者はそのアカウントへ不正にアクセスすることが可能となりリソースの削除、その他機密情報が
  外部へ漏洩させられることになりかねない。

- 不正な課金<br>
  上記にも近いが不正な操作による多重課金が起こるだろう。

- IAM ユーザーのアクセスキーとシークレットはなんのためにあるのか？
  AWS の API へアクセスできるようにするためである。IAM ユーザーは AWS アカウントに作成されるサブアカウントであり、IAM ユーザーはアクセスキー、シークレットを発行することができる。

3. どのような対策をしておくべきか？

- MFA を設定し、アカウントアクセスを防いでおく
- アクセスキーとシークレットのローテーションをする<br>
  短期間のみしか有効にならないようにし、古いものは新しくする必要があるようにする
- アクセスキーとシークレットの管理を分離する

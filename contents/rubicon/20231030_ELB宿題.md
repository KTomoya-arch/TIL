3. ALB の料金体系。１ヶ月連続で動かした場合はいくらかかるか。(1 ヶ月=30 日\*24 時間)
   (Application Load Balancer が実行される時間に対して 1 時間単位または 1 時間未満で、また時間ごとのロードバランサーキャパシティーユニット (LCU) 使用量で課金されます。)

   アジアパシフィック(東京)においては 0.0243USD/h
   0.0243 _ 24 _ 30 = 17.496USD と LCU の料金を加えたものが総料金になる。

   LCU(ALB がトラフィックを処理するディメンジョンの１時間あたりの平均値)

   - 新しい接続
     1 秒あたりの新たに確立された接続の数
   - アクティブ接続
     1 分あたりのアクティブな接続の数
   - 処理タイプ
     LB によって処理された HTTP リクエストと応答のバイト数(GB)
   - ルール評価
     LB によって処理されたルール数とリクエストレートの積
     https://aws.amazon.com/jp/elasticloadbalancing/pricing/

4. ELB セキュリティポリシー(SslPolicy) は何種類あるか？ どんな違いがあるか？
   具体的には TLS バージョン(TLS Protocols) と 暗号スイート(TLS Ciphers) に注目ください。
   18 種類?
   https://docs.aws.amazon.com/ja_jp/elasticloadbalancing/latest/application/create-https-listener.html#describe-ssl-policies
   各セキュリティポリシーは異なる TLS バージョンと暗号スイートをサポートしているという違いがある。

5. HTTP/1.1 と HTTP/2 の違いは？h2 とは何を表すか？
   原則として HTTP/1.1 の場合、1 つのリクエストが完了するまで、原則次のリクエストを送ることができない。

   - HTTP/1.1 ではリクエストを 1 つずつしか処理できないが HTTP/2 ではリクエストを同時に複数処理することが可能になった。
   - HTTP/2 ではヘッダ部分が圧縮が可能となった
     Web ページの読み込みなどは速くなった

6. h2 と h2c の違い
   h2 も h2c も HTTP/2 のこと、TLS によって暗号化がされているものが h2、暗号化されていないものが h2c 。

7. HTTP のステータスコードと意味について
   - 200
     OK リクエストが成功したこと
   - 301
     Moved Permanently URL が恒久的に変更されたこと
   - 302
     URL が一時的に変更されたこと
   - 304
     Not Modified リクエストされたリソースを再送する必要がないことを意味する。キャッシュされたリソースが最新であり
     そこへ暗黙的にリダイレクトすること
   - 403
     403 Forbidden 認証されていないなどの理由でクライアントにアクセス権がなくサーバーが適切なレスポンスの返信を拒否している。
   - 404
     サーバーがリクエストされたリソースを発見できないことを示す
   - 405
     サーバーがリクエストメソッドを理解しているものの、無効にされており使用できない。GET と HEAD の 2 つは必須。
   - 460(ALB 固有)
     The load balancer received a request from a client, but the client closed the connection with the load balancer before the idle timeout period elapsed.
     Check whether the client timeout period is greater than the idle timeout period for the load balancer. Ensure that your target provides a response to the client before the client timeout period elapses, or increase the client timeout period to match the load balancer idle timeout, if the client supports this.

- 500
  サーバー側で処理方法がわからない事態が発生したことを示す
- 502
  サーバーがわに何らかの原因があって、適切にコンテンツを表示できない。(ゲートウェイ的な意味、ネットワークの中継)
  - アクセス集中(負荷増加)が多いらしい
- 503
  サーバーが一時的にリクエストを処理できないことを示す。サーバーの負荷がでかい、メンテナンス中など。
- 504
  Gateway Timeout
  ゲートウェイやプロキシがクライアントからのリクエストを別のサーバーに中継し、そのサーバーからの応答を待っている時に発生する

8. ターゲットグループのヘルスチェックステータス
   ターゲットヘルスステータス
   ロードバランサーがターゲットにヘルスチェックリクエストを送信する前に、ターゲットグループに登録し、リスナールールでターゲットグループを指定して、ターゲットのアベイラビリティーゾーンがロードバランサーに対して有効になっていることを確認する必要があります。ターゲットがロードバランサーからリクエストを受信する前に、最初のヘルスチェックに合格する必要があります。ターゲットが最初のヘルスチェックに合格すると、ステータスは Healthy になります。

次の表は、登録されたターゲットのヘルスステータスの可能値を示しています。

値 説明
initial

ロードバランサーは、ターゲットを登録中か、ターゲットで最初のヘルスチェックを実行中です。

関連する理由コード : Elb.RegistrationInProgress | Elb.InitialHealthChecking

healthy

ターゲットは正常です。

関連する理由コード : なし

unhealthy

ターゲットはヘルスチェックに応答しなかったか、ヘルスチェックに合格しませんでした。

関連する理由コード :Target.ResponseCodeMismatch |Target.Timeout |Target.FailedHealthChecks |Elb.InternalError

unused

ターゲットがターゲットグループに登録されていないか、ターゲットグループがロードバランサーのリスナールールで使用されていないか、ロードバランサーに対して有効ではないアベイラビリティーゾーンにターゲットがあるか、ターゲットが停止または終了状態にあります。

関連する理由コード :Target.NotRegistered |Target.NotInUse |Target.InvalidState |Target.IpUnusable

draining

ターゲットは登録解除中で、Connection Draining 中です。

関連する理由コード : Target.DeregistrationInProgress

unavailable

ターゲットグループのヘルスチェックは無効になっています。

関連する理由コード : Target.HealthCheckDisabled

# RDS

- マネージド RDB サービスなどで使われている managed とは何か？
  面倒なサーバの管理を AWS に任せることができることを意味する。
  オンプレではデータセンタ、インターネット回線、配線、サーバ、OS など様々な点で選定や手を動かしての構築が必須であった。またストレージやスペックの変更についても考慮した上で設計する必要があった。これがマネージドサービスでは AWS やクラウドベンダに任せることができるのでエンジニア自体は RDB の設定値さえ知っていれば良い。

### Amazon Aurora

よく聞くオープンソースの DB は MySQL と PostgreSQL。

### DB インスタンス

DB 専用のバーチャルマシンを指す。(仮想マシン)
クラスターは実体はなく、単なるインスタンスをまとめてそう呼ぶだけである。
お中元の外側の箱のことを指す。(イメージ)

#### Aurora のデータは S3 に置かれる

らしいが、コンソール上からは見えない。

プライマリインスタンスに書き込んだ後、そこから S3 の 6 つに書き込みに行く(実際はそのうち 4 つに書き込まれたら書き込まれたこととして扱われる)
数 μs くらいの時間で Aurora はデータが同期される。(primary に書き込んだものが S3 の Data copies にコピーされるまで)
この時間がauroraとそれ以外でかなりラグがある。レプリカラグという。
aurora 以外は EBS ボリュームを使用するらしいので読み取り時間が非常にかかる。

## パーティション

### パーティションとは

パーティションとは linux,windows 関係なく、一般的な仕組みの一つであり PC の記憶媒体や hdd,ssd やメモリスティックなどに
設ける仕切りのことを指す。
pc でイメージが湧きやすいのは、C ドライブや D ドライブである。
ドライブを分けて管理することが多く、実際に物理的にもう一台記憶媒体を認識させているかのように扱うことが可能である。

### なぜ仕切るのか？

#### システム領域とデータ領域の分離

システムが障害やトラブった際にシステム領域だけを初期化して、データは保持し、引き継ぐといったことが可能となる。

- Linux ではシステム領域を `/`、ユーザのデータ保存領域を`/home`として分けて実現することが多い。
- `/var` などもシステム関連の多くのログが吐き出されるので管理上分離するとログに領域を食い潰されるということも無くなるだろう。
- swap パーティションというのも存在し、メインメモリが不足している際にメインメモリの代わりに使用できる領域のことである。
  メモリを単に大きくするだと、コストがかかるので安い HDD 等で補うことができる。

### grub2 の設定ファイルについて

GRUB2 の設定ファイルは/boot/grub/grub.cfg である。しかしこのファイルを直接編集することはない。
一般的に設定内容に関しては、
/etc/grub.d ディレクトリないのファイルまたは/etc/default/grub ファイルに記述をし、
`grub-mkconfig`コマンドで設定内容を/boot/grub/grub.cfg ファイルへ反映させる。

### grub legacy(v0.09 まで)

/boot/grub.menu.lst ファイルまたは/boot/grub/grub.conf ファイルで設定変更を行う。

### MBR

GRUB に代表されるブートローダは、HDD の最初のセクタ 512 バイトにあるマスターブートレコード(MBR)に格納されている。
MBR は、使用するよう行きが決まっていて、MBR はブートローダの先頭 446B 領域に格納されている。

### ESP

ESP(EFI)システムパーティションとは UEFI システムにおいて物理的なマシンを起動し、ファームウェアが読み込まれたあと、その後の起動シーケンスで最初にアクセスされる領域である。

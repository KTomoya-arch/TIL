IaC

## IaC 化

### 特徴

- インフラの変更を自動化できる
- コード化することで再利用が可能
- 構成管理しやすくなる

### コード化する理由

- インフラ構築、変更時のオペミスが減らせる
- コードを git 管理するので変更内容に対する複数人のレビューができる。過去の振り返りも可能.
- 設定値の管理表が不要となる。
- prd,stg,dev の環境テンプレートを共通化することで複数環境をすぐ作れる。
- 新規サービスで同様のインフラ構築が必要となってもテンプレのコピペと微調整で可能となる。

### Cloud Formation

AWS 環境のインフラリソースをコード管理することができて一括でリソースの起動/削除が可能となる。

#### <特徴>

- yaml or json 形式で管理する
- yaml or jsonf で作成したテンプレートからスタックを作成する
- スタックとはテンプレートによって起動されるリソースの集合を指す
- cloud formation 自体は無料で使用可能で、起動されたリソースに対して費用が請求される
- 一度テンプレートを作成すれば同じ構成を再現できる
- ベストプラクティスが盛り込まれたテンプレートが使用可能である
- 起動時に db のエンドポイントを ec2 へ渡すことができる

#### スタック

テンプレートからプロビジョニングされるリソース集合をスタックと呼ぶ

#### 重要なテンプレート

- Parameters
- Resources
- Outputs
